{"version":3,"sources":["libs/constants.ts","libs/index.ts","components/Header/index.tsx","layouts/MainLayout.tsx","../node_modules/@ant-design/icons-svg/es/asn/StarOutlined.js","../node_modules/@ant-design/icons/es/icons/StarOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/HeartFilled.js","../node_modules/@ant-design/icons/es/icons/HeartFilled.js","components/Item/ListItem/index.tsx","container/Search/index.tsx","pages/search/SearchPage.tsx"],"names":["navTitle","DEFAULT_PERPAGE","DEFAULT_PAGE","StyledPageHeader","styled","PageHeader","props","isMain","Header","handleMoveBack","handleMoveHome","pathName","onBack","title","extra","className","onClick","HomeOutlined","StyledMainLayout","div","MainLayout","children","history","useHistory","location","pathname","split","goBack","push","ROUTE_ROOT","Content","StarOutlined","ref","React","AntdIcon","_objectSpread","icon","StarOutlinedSvg","displayName","HeartFilled","HeartFilledSvg","StyledListItem","List","Item","ListItem","id","full_name","topics","html_url","description","avatar_url","forks_count","open_issues_count","watchers","pushed_at","repo","owner","bookMarkList","handleAddBookMark","handleRemoveBookMark","IconText","text","createElement","checkBookMark","find","list","actions","EyeOutlined","Meta","avatar","src","href","map","topic","color","date","updatedAt","Date","setHours","getHours","toISOString","replace","substring","timeStamp","StyledSearch","theme","mainColor","Search","useSelector","state","githubState","repositoryList","isLoading","useState","currentPage","setCurrentPage","totalPage","data","total_count","dispatch","useDispatch","keyword","useCallback","addBookMarkAction","request","removeBookMarkAction","useEffect","getRepositoryAction","q","per_page","page","setLoadingAction","style","height","overflow","padding","dataLength","items","length","next","Math","ceil","prev","hasMore","loader","paragraph","rows","active","endMessage","plain","scrollableTarget","dataSource","itemLayout","renderItem","item","login","name","open_issues","imageStyle","SearchPage"],"mappings":"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","file":"static/js/6.17027c40.chunk.js","sourcesContent":["export const navTitle: { [key: string]: string } = {\n  ['search']: '검색 결과'\n};\n\nexport const DEFAULT_PERPAGE = 10;\nexport const DEFAULT_PAGE = 1;\n","export * from './constants';\n","import React from 'react';\n\nimport { PageHeader } from 'antd';\nimport styled from 'styled-components';\nimport { HomeOutlined } from '@ant-design/icons';\n\nimport { navTitle } from 'libs';\n\ninterface HeaderProps {\n  handleMoveBack: () => void;\n  handleMoveHome: () => void;\n  pathName: string;\n  isMain?: boolean;\n}\n\ninterface StyledPageHeaderProps {\n  isMain?: boolean;\n}\nconst StyledPageHeader = styled(PageHeader)<StyledPageHeaderProps>`\n  position: sticky;\n  top: 0;\n  left: 0;\n  right: 0;\n\n  .menu-button {\n    all: unset;\n    cursor: pointer;\n  }\n\n  .menu-icon,\n  .anticon.anticon-arrow-left,\n  .ant-page-header-heading-title {\n    font-size: 30px;\n  }\n  .ant-page-header-back-button {\n    display: ${props => (props.isMain ? 'none' : 'block')} !important;\n  }\n`;\n\nconst Header = (props: HeaderProps) => {\n  const { handleMoveBack, handleMoveHome, pathName, isMain } = props;\n\n  return (\n    <StyledPageHeader\n      onBack={handleMoveBack}\n      isMain={isMain}\n      title={isMain ? '' : navTitle[pathName]}\n      extra={[\n        <button key=\"menu\" className=\"menu-button\" onClick={handleMoveHome}>\n          <HomeOutlined className=\"menu-icon\" />\n        </button>\n      ]}\n    ></StyledPageHeader>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport { useHistory } from 'react-router';\n\nimport { Layout } from 'antd';\nimport styled from 'styled-components';\n\nimport Header from 'components/Header';\nimport { ROUTE_ROOT } from 'routes/const';\n\ninterface MainLayoutProps extends React.HTMLProps<HTMLDivElement> {\n  isMain?: boolean;\n}\n\nconst StyledMainLayout = styled.div`\n  position: relative;\n\n  .ant-page-header-content {\n    padding: 0;\n  }\n`;\n\nconst MainLayout = ({ children, ...props }: MainLayoutProps) => {\n  const { isMain } = props;\n  const history = useHistory();\n  const pathName = history.location.pathname.split('/')[1];\n\n  const handleMoveBack = () => {\n    history.goBack();\n  };\n\n  const handleMoveHome = () => {\n    history.push(ROUTE_ROOT);\n  };\n\n  return (\n    <StyledMainLayout>\n      <Header\n        isMain={isMain}\n        handleMoveBack={handleMoveBack}\n        handleMoveHome={handleMoveHome}\n        pathName={pathName}\n      ></Header>\n      <Layout.Content>{children}</Layout.Content>\n    </StyledMainLayout>\n  );\n};\n\nexport default MainLayout;\n","// This icon file is generated automatically.\nvar StarOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z\" } }] }, \"name\": \"star\", \"theme\": \"outlined\" };\nexport default StarOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport StarOutlinedSvg from \"@ant-design/icons-svg/es/asn/StarOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar StarOutlined = function StarOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: StarOutlinedSvg\n  }));\n};\n\nStarOutlined.displayName = 'StarOutlined';\nexport default /*#__PURE__*/React.forwardRef(StarOutlined);","// This icon file is generated automatically.\nvar HeartFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z\" } }] }, \"name\": \"heart\", \"theme\": \"filled\" };\nexport default HeartFilled;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport HeartFilledSvg from \"@ant-design/icons-svg/es/asn/HeartFilled\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar HeartFilled = function HeartFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: HeartFilledSvg\n  }));\n};\n\nHeartFilled.displayName = 'HeartFilled';\nexport default /*#__PURE__*/React.forwardRef(HeartFilled);","import React, { FunctionComponent } from 'react';\n\nimport { Avatar, List, Space } from 'antd';\nimport styled from 'styled-components';\nimport Tag from 'antd/es/tag';\nimport { EyeOutlined, HeartFilled, StarOutlined } from '@ant-design/icons';\n\nimport { bookMarkList, handleAddBookMarkProps } from 'module/github';\n\ninterface ListItemProps {\n  id: number;\n  full_name: string;\n  topics?: string[];\n  html_url: string;\n  description: string | null;\n  avatar_url: string;\n  forks_count: number;\n  open_issues_count: number;\n  watchers: number;\n  pushed_at: string;\n  repo: string;\n  owner: string;\n  bookMarkList?: bookMarkList[];\n  handleAddBookMark: (props: handleAddBookMarkProps) => void;\n  handleRemoveBookMark: (id: number) => void;\n}\n\ninterface IconProps {\n  icon: FunctionComponent<any>;\n  text: number;\n}\nconst StyledListItem = styled(List.Item)`\n  font-size: 24px;\n  font-family: GmarketSansLight;\n  padding: 20px;\n  .tags {\n    padding: 5px;\n    font-family: GmarketSansLight;\n  }\n\n  .ant-anchor-link-title {\n    font-size: 24px;\n    font-family: GmarketSansLight;\n  }\n  a.anchor {\n    color: #000;\n  }\n\n  section.description {\n    margin: 10px 0;\n    font-size: 19px;\n  }\n\n  p.issue {\n    margin-top: 5px;\n    font-size: 18px;\n  }\n  p.updated {\n    font-size: 14px;\n  }\n\n  .footer-container {\n    display: flex;\n    justify-content: space-between;\n  }\n  .add-button {\n    font-size: 20px;\n    cursor: pointer;\n  }\n\n  .ant-list-item-meta-description {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 3;\n    -webkit-box-orient: vertical;\n    word-wrap: break-word;\n    line-height: 1.2em;\n    height: 3.6em;\n  }\n\n  .anticon.anticon-heart.active {\n    color: #ff0000;\n  }\n`;\nconst ListItem = (props: ListItemProps) => {\n  const {\n    id,\n    full_name,\n    topics,\n    html_url,\n    description,\n    avatar_url,\n    forks_count,\n    open_issues_count,\n    watchers,\n    pushed_at,\n    repo,\n    owner,\n    bookMarkList,\n    handleAddBookMark,\n    handleRemoveBookMark\n  } = props;\n\n  const IconText = ({ icon, text }: IconProps) => (\n    <Space>\n      {React.createElement(icon)}\n      {text}\n    </Space>\n  );\n  const timeStamp = (date: string) => {\n    const updatedAt = new Date(date);\n    updatedAt.setHours(updatedAt.getHours() + 9);\n    return updatedAt.toISOString().replace('T', ' ').substring(0, 19);\n  };\n\n  const checkBookMark = () => {\n    return bookMarkList?.find(list => list.id === id);\n  };\n\n  return (\n    <StyledListItem\n      actions={[\n        <IconText icon={StarOutlined} text={forks_count} key=\"fork\" />,\n        <IconText icon={EyeOutlined} text={watchers} key=\"watcher\" />\n      ]}\n    >\n      <List.Item.Meta\n        avatar={<Avatar src={avatar_url && avatar_url} />}\n        title={<a href={html_url}>{full_name}</a>}\n        description={description}\n      />\n      {topics?.map(topic => (\n        <Tag key={topic} color=\"success\" className=\"tags\">\n          {topic}\n        </Tag>\n      ))}\n      <p className=\"issue\">총 {open_issues_count}개의 이슈가 있습니다.</p>\n      <div className=\"footer-container\">\n        <p className=\"updated\">Updated {timeStamp(pushed_at)}</p>\n        <button\n          className=\"add-button\"\n          onClick={() =>\n            checkBookMark()\n              ? handleRemoveBookMark(id)\n              : handleAddBookMark({\n                  repo,\n                  open_issues_count,\n                  id,\n                  owner,\n                  full_name\n                })\n          }\n        >\n          <HeartFilled className={checkBookMark() ? 'active' : ''} /> 북마크\n          {checkBookMark() && ' 해제'}\n        </button>\n      </div>\n    </StyledListItem>\n  );\n};\n\nexport default ListItem;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\n\nimport styled from 'styled-components';\nimport { Divider, Empty, Skeleton, List } from 'antd';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nimport { StoreState } from 'module/index';\nimport {\n  addBookMarkAction,\n  getRepositoryAction,\n  handleAddBookMarkProps,\n  removeBookMarkAction,\n  setLoadingAction\n} from 'module/github';\nimport ListItem from 'components/Item/ListItem';\nimport { DEFAULT_PAGE, DEFAULT_PERPAGE } from 'libs/constants';\n\nconst StyledSearch = styled.div`\n  header.search {\n    padding: 40px 40px 0 40px;\n    font-family: GmarketSansLight;\n    font-size: 26px;\n    margin-bottom: 40px;\n  }\n  .total-count {\n    padding: 0 5px;\n    font-family: GmarketSansMedium;\n    font-size: 28px;\n    color: ${props => props.theme.mainColor};\n  }\n`;\n\nconst Search = () => {\n  const { repositoryList, bookMarkList, isLoading } = useSelector(\n    (state: StoreState) => state.githubState\n  );\n  const [currentPage, setCurrentPage] = useState<number>(DEFAULT_PAGE);\n  const totalPage = (repositoryList?.data?.total_count as number) / 10;\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const keyword = history.location.pathname.split('q=')[1];\n\n  const handleAddBookMark = useCallback(\n    ({\n      id,\n      owner,\n      repo,\n      open_issues_count,\n      full_name\n    }: handleAddBookMarkProps) => {\n      dispatch(\n        addBookMarkAction.request({\n          id,\n          owner,\n          repo,\n          open_issues_count,\n          full_name\n        })\n      );\n    },\n    [bookMarkList]\n  );\n\n  const handleRemoveBookMark = useCallback(\n    (id: number) => {\n      dispatch(\n        removeBookMarkAction.request({\n          id\n        })\n      );\n    },\n    [bookMarkList]\n  );\n\n  const handleLoadMoreData = () => {\n    if (isLoading) return;\n    if (Math.ceil(totalPage) < currentPage) return;\n\n    setCurrentPage(prev => prev + 1);\n  };\n\n  useEffect(() => {\n    if (!repositoryList) {\n      dispatch(\n        getRepositoryAction.request({\n          q: keyword,\n          per_page: DEFAULT_PERPAGE,\n          page: DEFAULT_PAGE\n        })\n      );\n    }\n    if (currentPage !== 1) {\n      dispatch(setLoadingAction());\n      dispatch(\n        getRepositoryAction.request({\n          q: keyword,\n          per_page: DEFAULT_PERPAGE,\n          page: currentPage\n        })\n      );\n    }\n  }, [currentPage]);\n\n  return (\n    <StyledSearch>\n      <header className=\"search\">\n        총\n        <strong className=\"total-count\">\n          {repositoryList?.data.total_count || 0}\n        </strong>\n        건이 검색 되었습니다.\n      </header>\n      {!repositoryList?.data.total_count ? (\n        <Empty\n          className=\"empty\"\n          description={\n            <div>\n              <p className=\"empty-description\">검색결과가 존재하지 않습니다.</p>\n              <p className=\"empty-description\">다른 검색어를 입력해보세요.</p>\n            </div>\n          }\n          imageStyle={{ height: '100%' }}\n        />\n      ) : (\n        <div\n          id=\"scrollableDiv\"\n          style={{\n            height: 'calc(100vh - 300px)',\n            overflow: 'auto',\n            padding: '0 16px'\n          }}\n        >\n          <InfiniteScroll\n            dataLength={repositoryList?.data.items.length}\n            next={handleLoadMoreData}\n            hasMore={\n              repositoryList?.data.items.length <\n              repositoryList?.data?.total_count\n            }\n            loader={<Skeleton avatar paragraph={{ rows: 1 }} active />}\n            endMessage={<Divider plain>마지막 게시물입니다.</Divider>}\n            scrollableTarget=\"scrollableDiv\"\n          >\n            <List\n              dataSource={repositoryList?.data.items}\n              itemLayout=\"vertical\"\n              renderItem={item => (\n                <ListItem\n                  id={item.id}\n                  owner={item.owner?.login as string}\n                  full_name={item.full_name}\n                  repo={item.name}\n                  topics={item.topics}\n                  html_url={item.html_url}\n                  description={item.description}\n                  avatar_url={item.owner?.avatar_url as string}\n                  forks_count={item.forks_count}\n                  open_issues_count={item.open_issues}\n                  watchers={item.watchers}\n                  pushed_at={item.pushed_at}\n                  bookMarkList={bookMarkList}\n                  handleAddBookMark={handleAddBookMark}\n                  handleRemoveBookMark={handleRemoveBookMark}\n                ></ListItem>\n              )}\n            />\n          </InfiniteScroll>\n        </div>\n      )}\n    </StyledSearch>\n  );\n};\n\nexport default Search;\n","import React from 'react';\n\nimport Search from 'container/Search';\nimport MainLayout from 'layouts/MainLayout';\n\nconst SearchPage = () => {\n  return (\n    <MainLayout>\n      <Search />\n    </MainLayout>\n  );\n};\n\nexport default SearchPage;\n"],"sourceRoot":""}